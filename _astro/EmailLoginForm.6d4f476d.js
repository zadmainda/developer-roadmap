import{a as p,T as f}from"./jwt.2bcbdb7f.js";import{h as o}from"./hooks.module.9ee1d4a4.js";import{h as g}from"./http.1ee0e3a2.js";import{o as e}from"./jsxRuntime.module.8b00cb04.js";import"./preact.module.f1575aff.js";const v=()=>{const[t,u]=o(""),[a,c]=o(""),[s,l]=o(""),[n,i]=o(!1);return e("form",{className:"w-full",onSubmit:async r=>{r.preventDefault(),i(!0),l("");const{response:d,error:m}=await g("https://api.roadmap.sh/v1-login",{email:t,password:a});if(d?.token){p.set(f,d.token,{path:"/",expires:30}),window.location.reload();return}if(m.type==="user_not_verified"){window.location.href=`/verification-pending?email=${encodeURIComponent(t)}`;return}i(!1),l(m?.message||"Something went wrong. Please try again later.")},children:[e("label",{htmlFor:"email",className:"sr-only",children:"Email address"}),e("input",{name:"email",type:"email",autoComplete:"email",required:!0,className:"block w-full rounded-lg border border-gray-300 px-3 py-2 shadow-sm outline-none placeholder:text-gray-400 focus:ring-2 focus:ring-black focus:ring-offset-1",placeholder:"Email Address",value:t,onInput:r=>u(String(r.target.value))}),e("label",{htmlFor:"password",className:"sr-only",children:"Password"}),e("input",{name:"password",type:"password",autoComplete:"current-password",required:!0,className:"mt-2 block w-full rounded-lg border border-gray-300 px-3 py-2 shadow-sm outline-none placeholder:text-gray-400 focus:ring-2 focus:ring-black focus:ring-offset-1",placeholder:"Password",value:a,onInput:r=>c(String(r.target.value))}),e("p",{class:"mb-3 mt-2 text-sm text-gray-500",children:e("a",{href:"/forgot-password",className:"text-blue-800 hover:text-blue-600",children:"Reset your password?"})}),s&&e("p",{className:"mb-2 rounded-md bg-red-100 p-2 text-red-800",children:s}),e("button",{type:"submit",disabled:n,className:"inline-flex w-full items-center justify-center rounded-lg bg-black p-2 py-3 text-sm font-medium text-white outline-none focus:ring-2 focus:ring-black focus:ring-offset-1 disabled:bg-gray-400",children:n?"Please wait...":"Continue"})]})};export{v as default};
